{"version":3,"file":"index.js","names":["React","useContext","useMemo","useRef","style","GlobalData","addEvent","rmEvent","moment","TOTAL_HEIGHT","ScheduleRender","id","isShow","data","dataItem","rangeStartAndEndKey","index","scheduleRender","timestampRange","setIsMoving","setMovingTop","isClick","initMouseTop","initOffsetTop","dataIndex","containerInitHeight","ref","bottomLineRef","isDraggable","targetDay","changeScheduleDataHandle","calcTop","startTime","minute","calcHeight","timestampList","length","getHeightAttrNumber","height","replace","changeRangeMouseMove","ev","evType","handle","onMouseLeaveBodyHandle","DomInstance","current","currMouseOffset","clientY","__resultHeight__","MIN_HEIGHT","MAX_HEIGHT","offsetTop","MIN_LIMIT","MAX_LIMIT","changeRangeMouseUp","currentTimeStamp","format","Math","floor","unix","containerHeight","onMouseMove","position","top","document","getElementById","CONTAINER_HEIGHT","topMoveValue","MAX_MOVE_LIMIT","MAX_TOP_VALUE","err","console","log","mouseUpHandle","DATE","HOUR","MINUTES","SECONDS","random","timeDiff","mouseDownHandle","persist","changeRangeHandle","stopPropagation","Calendar_ScheduleItem_container","Calendar_ScheduleItem_bottomLine"],"sources":["../../../../../src/components/ScheduleItem/components/ScheduleRender/index.tsx"],"sourcesContent":["import React, {useContext, useMemo, useRef} from \"react\";\r\nimport style from \"@/components/ScheduleItem/index.less\";\r\nimport {GlobalData} from \"@/components/Container\";\r\nimport {addEvent, rmEvent} from \"@/utils\";\r\nimport moment from \"moment\";\r\n\r\n\r\n/**\r\n * 24小时，每小时30像素，容器总高度 = 24小时 * 30像素\r\n * */\r\nconst TOTAL_HEIGHT: number = 24 * 30;\r\n\r\nconst ScheduleRender: React.FC<any> = ({\r\n                                         id,\r\n                                         isShow,\r\n                                         data,\r\n                                         dataItem,\r\n                                         rangeStartAndEndKey,\r\n                                         index,\r\n                                         scheduleRender,\r\n                                         timestampRange,\r\n                                         setIsMoving,\r\n                                         setMovingTop\r\n}) => {\r\n  let isClick = false;\r\n  let initMouseTop = 0;\r\n  let initOffsetTop = 0;\r\n  let dataIndex: number = null;\r\n  let containerInitHeight = 0;\r\n  const ref = useRef<HTMLDivElement>();\r\n  const bottomLineRef = useRef<HTMLDivElement>();\r\n  const {isDraggable, targetDay, changeScheduleDataHandle} = useContext(GlobalData);\r\n\r\n  // 计算日程容器top值\r\n  const calcTop: (startTime: number) => number = useMemo(() => {\r\n    return (startTime) => moment(startTime).minute() / 2\r\n  }, []);\r\n\r\n  // 计算日程容器height值\r\n  const calcHeight: (timestampList: [number, number]) => number = useMemo(() => {\r\n    return (timestampList) => {\r\n      return timestampList.length > 1 ? (timestampList[1] - timestampList[0]) / 1000 / 60 / 2 : 30\r\n    }\r\n  }, []);\r\n\r\n  const getHeightAttrNumber = (height: string): number => {\r\n    return +height.replace(/[^\\d.-]/g, '')\r\n  };\r\n\r\n  const changeRangeMouseMove = (ev) => {\r\n      addEvent({\r\n        evType: \"mouseleave\", handle: onMouseLeaveBodyHandle\r\n      });\r\n      const DomInstance = ref.current;\r\n      const currMouseOffset = ev.clientY - initMouseTop;\r\n      let __resultHeight__ = containerInitHeight + currMouseOffset;\r\n\r\n      const MIN_HEIGHT = 15;\r\n      const MAX_HEIGHT = TOTAL_HEIGHT - DomInstance.offsetTop;\r\n      const MIN_LIMIT = __resultHeight__ <= MIN_HEIGHT;\r\n      const MAX_LIMIT = (DomInstance.offsetTop + __resultHeight__) >= TOTAL_HEIGHT;\r\n\r\n      if(MAX_LIMIT) {\r\n        DomInstance.style.height = `${MAX_HEIGHT}px`;\r\n        return;\r\n      }\r\n\r\n      if(MIN_LIMIT) {\r\n        DomInstance.style.height = `${MIN_HEIGHT}px`;\r\n        return;\r\n      }\r\n\r\n      DomInstance.style.height = `${__resultHeight__}px`;\r\n  };\r\n\r\n  const changeRangeMouseUp = () => {\r\n    const DomInstance = ref.current;\r\n    if(DomInstance) {\r\n      const currentTimeStamp =\r\n        moment(\r\n          `${moment(targetDay).format('YYYY-MM-DD')} ${Math.floor(\r\n            DomInstance.offsetTop / 30,\r\n          )}:${Math.floor(((DomInstance.offsetTop / 30) * 60) % 60)}:00`,\r\n        ).unix() * 1000;\r\n      const containerHeight = getHeightAttrNumber(ref.current.style.height);\r\n      changeScheduleDataHandle([currentTimeStamp, currentTimeStamp + containerHeight * 2 * 60 * 1000], dataItem[dataIndex]);\r\n      rmEvent({evType: 'mousemove', handle: changeRangeMouseMove});\r\n      rmEvent({evType: 'mouseup', handle: changeRangeMouseUp});\r\n      rmEvent({evType: 'mouseleave', handle: onMouseLeaveBodyHandle});\r\n    }\r\n  };\r\n\r\n  // 移动鼠标\r\n  const onMouseMove = (ev) => {\r\n    try {\r\n        const DomInstance = ref.current;\r\n        if(!isClick && DomInstance) {\r\n          DomInstance.style.position = 'absolute';\r\n          DomInstance.style.top = `${document.getElementById(id).offsetTop + DomInstance.offsetTop}px`;\r\n          initOffsetTop = DomInstance.offsetTop;\r\n        }\r\n        isClick = true;\r\n        if (isClick && DomInstance) {\r\n          addEvent({evType: \"mouseleave\", handle: onMouseLeaveBodyHandle});\r\n          const currMouseOffset = ev.clientY - initMouseTop;\r\n          const CONTAINER_HEIGHT: number = getHeightAttrNumber(DomInstance.style.height);\r\n          let topMoveValue = initOffsetTop + currMouseOffset;\r\n          const MAX_MOVE_LIMIT: boolean = topMoveValue + CONTAINER_HEIGHT >= TOTAL_HEIGHT;\r\n\r\n          if(MAX_MOVE_LIMIT) {\r\n            const MAX_TOP_VALUE: number = TOTAL_HEIGHT - CONTAINER_HEIGHT;\r\n            DomInstance.style.top = `${MAX_TOP_VALUE}px`;\r\n            setMovingTop(MAX_TOP_VALUE);\r\n            return\r\n          }\r\n\r\n          if(topMoveValue <= 0) {\r\n            topMoveValue = 0;\r\n          }\r\n\r\n          DomInstance.style.top = `${topMoveValue}px`;\r\n          setMovingTop(topMoveValue);\r\n        }\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // 抬起鼠标\r\n  const mouseUpHandle = () => {\r\n    try {\r\n      const DomInstance = ref.current;\r\n      if (isClick) {\r\n        isClick = false;\r\n        const DATE = moment(targetDay).format('YYYY-MM-DD');\r\n        const HOUR = Math.floor(DomInstance.offsetTop / 30);\r\n        const MINUTES = Math.floor(((DomInstance.offsetTop / 30) * 60) % 60);\r\n        const SECONDS = Math.floor(((DomInstance.offsetTop / 30) * 60) % 60 % 60);\r\n        const currentTimeStamp = (moment(`${DATE} ${HOUR}:${MINUTES}:${SECONDS}`).unix() * 1000) + Math.floor(Math.random() * 1000);\r\n        const timeDiff = dataItem[dataIndex][rangeStartAndEndKey[1]] - dataItem[dataIndex][rangeStartAndEndKey[0]];\r\n        changeScheduleDataHandle([currentTimeStamp, currentTimeStamp + timeDiff], dataItem[dataIndex]);\r\n      }\r\n      setIsMoving(false);\r\n      rmEvent({evType: 'mousemove', handle: onMouseMove});\r\n      rmEvent({evType: 'mouseup', handle: mouseUpHandle});\r\n      rmEvent({evType: 'mouseleave', handle: onMouseLeaveBodyHandle});\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  // 按下鼠标\r\n  const mouseDownHandle = (ev, index) => {\r\n    if (!isDraggable) return;\r\n    ev.persist();\r\n    dataIndex = index;\r\n    initMouseTop = ev.clientY;\r\n    setIsMoving(true);\r\n    addEvent({evType:'mousemove', handle: onMouseMove});\r\n    addEvent({evType: 'mouseup', handle: mouseUpHandle});\r\n  };\r\n\r\n  const changeRangeHandle = (ev, data, index) => {\r\n    ev.stopPropagation();\r\n    dataIndex = index;\r\n    initMouseTop = ev.clientY;\r\n    containerInitHeight = getHeightAttrNumber(ref.current.style.height);\r\n    addEvent({evType: 'mousemove', handle: changeRangeMouseMove});\r\n    addEvent({evType: 'mouseup', handle: changeRangeMouseUp});\r\n  };\r\n\r\n  const onMouseLeaveBodyHandle = (ev) => {\r\n    ev.stopPropagation();\r\n    changeRangeMouseUp();\r\n    mouseUpHandle();\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {isShow && (\r\n        <div\r\n          ref={ref}\r\n          key={`${data[rangeStartAndEndKey[0]]}${index}`}\r\n          id={`${data[rangeStartAndEndKey[0]]}${index}`}\r\n          onMouseDown={(ev) => mouseDownHandle(ev, index)}\r\n          className={`${style.Calendar_ScheduleItem_container}`}\r\n          style={{\r\n            height: `${calcHeight([data[rangeStartAndEndKey[0]], data[rangeStartAndEndKey[1]]]) || 30}px`,\r\n            top: calcTop(data[rangeStartAndEndKey[0]]),\r\n          }}\r\n        >\r\n          {scheduleRender({ data, timestampRange })}\r\n          <div\r\n            ref={bottomLineRef}\r\n            onMouseDown={(ev) => {\r\n              changeRangeHandle(ev, data, index)\r\n            }}\r\n            onMouseUp={changeRangeMouseUp}\r\n            className={style.Calendar_ScheduleItem_bottomLine}\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default ScheduleRender;\r\n"],"mappings":"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"}