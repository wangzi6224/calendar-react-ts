{"version":3,"file":"index.js","names":["React","useContext","useMemo","useRef","style","GlobalData","addEvent","rmEvent","moment","TOTAL_HEIGHT","ScheduleRender","id","data","index","isShow","dataItem","setIsMoving","setMovingTop","timestampRange","scheduleRender","rangeStartAndEndKey","isClick","initMouseTop","initOffsetTop","dataIndex","containerInitHeight","ref","bottomLineRef","isDraggable","targetDay","changeScheduleDataHandle","calcTop","startTime","minute","calcHeight","timestampList","length","getHeightAttrNumber","height","replace","changeRangeMouseMove","ev","evType","handle","onMouseLeaveBodyHandle","DomInstance","current","currMouseOffset","clientY","__resultHeight__","MIN_HEIGHT","MAX_HEIGHT","offsetTop","MIN_LIMIT","MAX_LIMIT","changeRangeMouseUp","currentTimeStamp","format","Math","floor","unix","containerHeight","mouseDownHandle","persist","onMouseMove","mouseUpHandle","position","top","document","getElementById","CONTAINER_HEIGHT","topMoveValue","MAX_MOVE_LIMIT","MAX_TOP_VALUE","err","console","log","DATE","HOUR","MINUTES","SECONDS","random","timeDiff","changeRangeHandle","stopPropagation","Calendar_ScheduleItem_container","Calendar_ScheduleItem_bottomLine"],"sources":["../../../../../src/components/ScheduleItem/components/ScheduleRender/index.tsx"],"sourcesContent":["import React, {useContext, useMemo, useRef} from \"react\";\nimport style from \"@/components/ScheduleItem/index.less\";\nimport {GlobalData} from \"@/components/Container\";\nimport {addEvent, rmEvent} from \"@/utils\";\nimport moment from \"moment\";\nimport {dataType, ScheduleItemType, timestampRange} from \"@/data\";\n\n\n/**\n * 24小时，每小时30像素，容器总高度 = 24小时 * 30像素\n * */\nconst TOTAL_HEIGHT: number = 24 * 30;\n\ninterface ScheduleRenderType extends ScheduleItemType{\n  index: number;\n  data: dataType;\n  isShow: boolean;\n}\n\nconst ScheduleRender: React.FC<ScheduleRenderType> = ({\n                                         id,\n                                         data,\n                                         index,\n                                         isShow,\n                                         dataItem,\n                                         setIsMoving,\n                                         setMovingTop,\n                                         timestampRange,\n                                         scheduleRender,\n                                         rangeStartAndEndKey,\n}) => {\n  let isClick = false;\n  let initMouseTop = 0;\n  let initOffsetTop = 0;\n  let dataIndex: number = null;\n  let containerInitHeight = 0;\n  const ref = useRef<HTMLDivElement>();\n  const bottomLineRef = useRef<HTMLDivElement>();\n  const {isDraggable, targetDay, changeScheduleDataHandle} = useContext(GlobalData);\n\n  // 计算日程容器top值\n  const calcTop: (startTime: number) => number = useMemo(() => {\n    return (startTime) => moment(startTime).minute() / 2\n  }, []);\n\n  // 计算日程容器height值\n  const calcHeight: (timestampList: [number, number]) => number = useMemo(() => {\n    return (timestampList) => {\n      return timestampList.length > 1 ? (timestampList[1] - timestampList[0]) / 1000 / 60 / 2 : 30\n    }\n  }, []);\n\n  const getHeightAttrNumber = (height: string): number => {\n    return +height.replace(/[^\\d.-]/g, '')\n  };\n\n  // 改变容器高度，鼠标移动事件\n  const changeRangeMouseMove = (ev) => {\n      addEvent({\n        evType: \"mouseleave\", handle: onMouseLeaveBodyHandle\n      });\n      const DomInstance = ref.current;\n      const currMouseOffset = ev.clientY - initMouseTop;\n      let __resultHeight__ = containerInitHeight + currMouseOffset;\n\n      const MIN_HEIGHT = 15;\n      const MAX_HEIGHT = TOTAL_HEIGHT - DomInstance.offsetTop;\n      const MIN_LIMIT = __resultHeight__ <= MIN_HEIGHT;\n      const MAX_LIMIT = (DomInstance.offsetTop + __resultHeight__) >= TOTAL_HEIGHT;\n\n      if(MAX_LIMIT) {\n        DomInstance.style.height = `${MAX_HEIGHT}px`;\n        return;\n      }\n\n      if(MIN_LIMIT) {\n        DomInstance.style.height = `${MIN_HEIGHT}px`;\n        return;\n      }\n\n      DomInstance.style.height = `${__resultHeight__}px`;\n  };\n\n  // 改变容器高度，鼠标抬起事件\n  const changeRangeMouseUp = () => {\n    const DomInstance = ref.current;\n    if(DomInstance) {\n      const currentTimeStamp =\n        moment(\n          `${moment(targetDay).format('YYYY-MM-DD')} ${Math.floor(\n            DomInstance.offsetTop / 30,\n          )}:${Math.floor(((DomInstance.offsetTop / 30) * 60) % 60)}:00`,\n        ).unix() * 1000;\n      const containerHeight = getHeightAttrNumber(ref.current.style.height);\n      changeScheduleDataHandle([currentTimeStamp, currentTimeStamp + containerHeight * 2 * 60 * 1000], dataItem[dataIndex]);\n      rmEvent({evType: 'mousemove', handle: changeRangeMouseMove});\n      rmEvent({evType: 'mouseup', handle: changeRangeMouseUp});\n      rmEvent({evType: 'mouseleave', handle: onMouseLeaveBodyHandle});\n    }\n  };\n\n  // 按下鼠标\n  const mouseDownHandle = (ev, index) => {\n    if (!isDraggable) return;\n    ev.persist();\n    dataIndex = index;\n    initMouseTop = ev.clientY;\n    setIsMoving(true);\n    addEvent({evType:'mousemove', handle: onMouseMove});\n    addEvent({evType: 'mouseup', handle: mouseUpHandle});\n  };\n\n  // 移动鼠标\n  const onMouseMove = (ev) => {\n    try {\n        const DomInstance = ref.current;\n        if(!isClick && DomInstance) {\n          DomInstance.style.position = 'absolute';\n          DomInstance.style.top = `${document.getElementById(id).offsetTop + DomInstance.offsetTop}px`;\n          initOffsetTop = DomInstance.offsetTop;\n        }\n        isClick = true;\n        if (isClick && DomInstance) {\n          addEvent({evType: \"mouseleave\", handle: onMouseLeaveBodyHandle});\n          const currMouseOffset = ev.clientY - initMouseTop;\n          const CONTAINER_HEIGHT: number = getHeightAttrNumber(DomInstance.style.height);\n          let topMoveValue = initOffsetTop + currMouseOffset;\n          const MAX_MOVE_LIMIT: boolean = topMoveValue + CONTAINER_HEIGHT >= TOTAL_HEIGHT;\n\n          if(MAX_MOVE_LIMIT) {\n            const MAX_TOP_VALUE: number = TOTAL_HEIGHT - CONTAINER_HEIGHT;\n            DomInstance.style.top = `${MAX_TOP_VALUE}px`;\n            setMovingTop(MAX_TOP_VALUE);\n            return\n          }\n\n          if(topMoveValue <= 0) {\n            topMoveValue = 0;\n          }\n\n          DomInstance.style.top = `${topMoveValue}px`;\n          setMovingTop(topMoveValue);\n        }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // 抬起鼠标\n  const mouseUpHandle = () => {\n    try {\n      const DomInstance = ref.current;\n      if (isClick) {\n        isClick = false;\n        const DATE = moment(targetDay).format('YYYY-MM-DD');\n        const HOUR = Math.floor(DomInstance.offsetTop / 30);\n        const MINUTES = Math.floor(((DomInstance.offsetTop / 30) * 60) % 60);\n        const SECONDS = Math.floor(((DomInstance.offsetTop / 30) * 60) % 60 % 60);\n        /**\n         * currentTimeStamp后面的随机数：防止为改变值，但是已经开启绝对定位，导致无法触发render复原。\n        * */\n        const currentTimeStamp = (moment(`${DATE} ${HOUR}:${MINUTES}:${SECONDS}`).unix() * 1000) + Math.floor(Math.random() * 1000);\n        const timeDiff = dataItem[dataIndex][rangeStartAndEndKey[1]] - dataItem[dataIndex][rangeStartAndEndKey[0]];\n        changeScheduleDataHandle([currentTimeStamp, currentTimeStamp + timeDiff], dataItem[dataIndex]);\n      }\n      setIsMoving(false);\n      rmEvent({evType: 'mousemove', handle: onMouseMove});\n      rmEvent({evType: 'mouseup', handle: mouseUpHandle});\n      rmEvent({evType: 'mouseleave', handle: onMouseLeaveBodyHandle});\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  // 改变容器高度，鼠标抬起事件\n  const changeRangeHandle = (ev, data, index) => {\n    ev.stopPropagation();\n    dataIndex = index;\n    initMouseTop = ev.clientY;\n    containerInitHeight = getHeightAttrNumber(ref.current.style.height);\n    addEvent({evType: 'mousemove', handle: changeRangeMouseMove});\n    addEvent({evType: 'mouseup', handle: changeRangeMouseUp});\n  };\n\n  const onMouseLeaveBodyHandle = (ev) => {\n    ev.stopPropagation();\n    changeRangeMouseUp();\n    mouseUpHandle();\n  }\n\n  return (\n    <div>\n      {isShow && (\n        <div\n          ref={ref}\n          key={`${data[rangeStartAndEndKey[0]]}${index}`}\n          id={`${data[rangeStartAndEndKey[0]]}${index}`}\n          onMouseDown={(ev) => mouseDownHandle(ev, index)}\n          className={`${style.Calendar_ScheduleItem_container}`}\n          style={{\n            height: `${calcHeight([data[rangeStartAndEndKey[0]], data[rangeStartAndEndKey[1]]]) || 30}px`,\n            top: calcTop(data[rangeStartAndEndKey[0]]),\n          }}\n        >\n          {scheduleRender && scheduleRender({ data, timestampRange })}\n          <div\n            ref={bottomLineRef}\n            onMouseDown={(ev) => {\n              changeRangeHandle(ev, data, index)\n            }}\n            onMouseUp={changeRangeMouseUp}\n            className={style.Calendar_ScheduleItem_bottomLine}\n          />\n        </div>\n      )}\n    </div>\n  )\n};\n\nexport default ScheduleRender;\n"],"mappings":"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"}