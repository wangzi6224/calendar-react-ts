{"version":3,"file":"index.js","names":["moment","isLeapYearHandle","timestamp","getYear","year","getMonth","month","getDay","date","weekDay","day","getMonthOwnDays","dateCount","Date","getDate","result","i","push","getZeroTime","time","tempDate","item","getTime","DomEventHandle","addEvent","evType","handle","options","domInstance","document","body","addEventListener","rmEvent","removeEventListener"],"sources":["../../src/utils/index.ts"],"sourcesContent":["import moment from 'moment';\r\n\r\n// 判断平年闰年 true闰年, false平年\r\nexport const isLeapYearHandle: (timestamp: number) => boolean = (timestamp) =>\r\n  (getYear(timestamp) % 4 === 0 && getYear(timestamp) % 100 !== 0) ||\r\n  getYear(timestamp) % 400 === 0;\r\n// 获取年\r\nexport const getYear: (timestamp: number) => number = (timestamp) => moment(timestamp).year();\r\n// 获取月\r\nexport const getMonth: (timestamp: number) => number = (timestamp) => moment(timestamp).month() + 1;\r\n// 获取日\r\nexport const getDay: (timestamp: number) => number = (timestamp) => moment(timestamp).date();\r\n// 获取星期\r\nexport const weekDay: (timestamp: number) => number = (timestamp) =>\r\n  moment(timestamp).day() === 0 ? 7 : moment(timestamp).day();\r\n\r\n// 获取当前月份的日期\r\nexport const getMonthOwnDays: (timestamp: number, year?: number, month?: number) => number[] = (\r\n  timestamp,\r\n  year,\r\n  month,\r\n) => {\r\n  const dateCount = new Date(year || getYear(timestamp), month || getMonth(timestamp), 0).getDate();\r\n  const result = [];\r\n  for (let i = 0; i < dateCount; i++) result.push(i + 1);\r\n  return [...result];\r\n};\r\n\r\n// 获取某个时间所在当天的零时零分零秒\r\nexport const getZeroTime = (time: Date | number): Date | number => {\r\n  const tempDate = time instanceof Date ? time : new Date(time);\r\n  // eslint-disable-next-line no-restricted-syntax\r\n  for (const item of ['setHours', 'setMinutes', 'setSeconds', 'setMilliseconds']) {\r\n    tempDate[item](0);\r\n  }\r\n  return time instanceof Date ? tempDate : tempDate.getTime();\r\n};\r\n\r\ntype eventParamsType = {\r\n  evType: string | keyof HTMLElementEventMap;\r\n  handle: EventListenerOrEventListenerObject;\r\n  options?: boolean | AddEventListenerOptions\r\n  domInstance?: HTMLElement;\r\n}\r\n\r\nclass DomEventHandle {\r\n  public addEvent({evType, handle, options = null, domInstance = document.body}: eventParamsType) {\r\n    domInstance.addEventListener(evType, handle, options);\r\n  }\r\n\r\n  public rmEvent({evType, handle, options = null, domInstance = document.body}: eventParamsType) {\r\n    domInstance.removeEventListener(evType, handle, options);\r\n  }\r\n}\r\n\r\nexport const {addEvent, rmEvent} = new DomEventHandle();\r\n"],"mappings":"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"}