{"version":3,"file":"useAutoScroll.js","names":["moment","useLayoutEffect","useState","getDay","getMonth","getYear","useAutoScroll","targetDay","height","autoPositionTime","autoPositionScrollHandle","setTimeout","scrollContainerEle","document","getElementById","PositionTime","hour","unix","scrollTop","offsetTop","err","console","log","scrollTimeID","clearTimeout"],"sources":["../../src/hooks/useAutoScroll.tsx"],"sourcesContent":["import moment from \"moment\";\r\nimport {useLayoutEffect, useState} from \"react\";\r\nimport {getDay, getMonth, getYear} from \"@/utils\";\r\n\r\nexport const useAutoScroll = (targetDay, height) => {\r\n  const [autoPositionTime] = useState(targetDay);\r\n\r\n  const autoPositionScrollHandle: () => NodeJS.Timeout = () => {\r\n    return setTimeout(() => {\r\n      try {\r\n        const scrollContainerEle = document.getElementById('WT_Calendar_ScheduleContainer_inner');\r\n        const PositionTime: number =\r\n          moment(\r\n            `${getYear(autoPositionTime)}/${getMonth(autoPositionTime)}/${getDay(\r\n              autoPositionTime,\r\n            )} ${moment(autoPositionTime).hour()}:00:00`,\r\n          ).unix() * 1000;\r\n        scrollContainerEle.scrollTop =\r\n          document.getElementById(`${PositionTime}`)?.offsetTop - height / 3;\r\n      } catch (err) {\r\n        console.log('自动滚动报错---->', err);\r\n      }\r\n    }, 20);\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const scrollTimeID: NodeJS.Timeout = autoPositionScrollHandle();\r\n    return () => {\r\n      clearTimeout(scrollTimeID);\r\n    };\r\n  }, [targetDay])\r\n}\r\n"],"mappings":"AAAA,OAAOA,MAAP,MAAmB,QAAnB;AACA,SAAQC,eAAR,EAAyBC,QAAzB,QAAwC,OAAxC;AACA,SAAQC,MAAR,EAAgBC,QAAhB,EAA0BC,OAA1B;AAEA,OAAO,IAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,SAAD,EAAYC,MAAZ,EAAuB;EAClD,gBAA2BN,QAAQ,CAACK,SAAD,CAAnC;EAAA,IAAOE,gBAAP;;EAEA,IAAMC,wBAA8C,GAAG,SAAjDA,wBAAiD,GAAM;IAC3D,OAAOC,UAAU,CAAC,YAAM;MACtB,IAAI;QAAA;;QACF,IAAMC,kBAAkB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,qCAAxB,CAA3B;QACA,IAAMC,YAAoB,GACxBf,MAAM,CACDK,OAAO,CAACI,gBAAD,CADN,SAC4BL,QAAQ,CAACK,gBAAD,CADpC,SAC0DN,MAAM,CAClEM,gBADkE,CADhE,SAGCT,MAAM,CAACS,gBAAD,CAAN,CAAyBO,IAAzB,EAHD,YAAN,CAIEC,IAJF,KAIW,IALb;QAMAL,kBAAkB,CAACM,SAAnB,GACE,0BAAAL,QAAQ,CAACC,cAAT,MAA2BC,YAA3B,4CAA4CI,SAA5C,IAAwDX,MAAM,GAAG,CADnE;MAED,CAVD,CAUE,OAAOY,GAAP,EAAY;QACZC,OAAO,CAACC,GAAR,CAAY,aAAZ,EAA2BF,GAA3B;MACD;IACF,CAdgB,EAcd,EAdc,CAAjB;EAeD,CAhBD;;EAkBAnB,eAAe,CAAC,YAAM;IACpB,IAAMsB,YAA4B,GAAGb,wBAAwB,EAA7D;IACA,OAAO,YAAM;MACXc,YAAY,CAACD,YAAD,CAAZ;IACD,CAFD;EAGD,CALc,EAKZ,CAAChB,SAAD,CALY,CAAf;AAMD,CA3BM"}